{"ast":null,"code":"var io = require('socket.io-client');\n\nexport default function () {\n  var socket = io.connect(\"http://localhost:4000\");\n\n  function registerHandler(onMessageReceived) {\n    socket.on('new message', onMessageReceived);\n  }\n\n  function unregisterHandler() {\n    socket.off('message');\n  }\n\n  function join(chatroomName, cb) {\n    socket.emit('join', {\n      user: localStorage.getItem('username'),\n      room: chatroomName\n    }, cb);\n  }\n\n  function leave(chatroomName, cb) {\n    socket.emit('leave', {\n      user: localStorage.getItem('username'),\n      room: chatroomName\n    }, cb);\n  }\n\n  function message(chatroomName, msg, user, cb) {\n    var data = {\n      room: chatroomName,\n      user: user,\n      message: msg\n    };\n    socket.emit('message', data, cb);\n  }\n\n  return {\n    registerHandler: registerHandler\n  };\n}","map":{"version":3,"sources":["C:\\Users\\Harry\\Documents\\GitHub\\COMP3133-full-stack-dev\\Assignment1\\react-frontend\\src\\socketClient.js"],"names":["io","require","socket","connect","registerHandler","onMessageReceived","on","unregisterHandler","off","join","chatroomName","cb","emit","user","localStorage","getItem","room","leave","message","msg","data"],"mappings":"AAAA,IAAMA,EAAE,GAAGC,OAAO,CAAC,kBAAD,CAAlB;;AAEA,eAAe,YAAW;AACtB,MAAMC,MAAM,GAAGF,EAAE,CAACG,OAAH,CAAW,uBAAX,CAAf;;AAEA,WAASC,eAAT,CAAyBC,iBAAzB,EAA4C;AACxCH,IAAAA,MAAM,CAACI,EAAP,CAAU,aAAV,EAAyBD,iBAAzB;AACD;;AAEH,WAASE,iBAAT,GAA6B;AACzBL,IAAAA,MAAM,CAACM,GAAP,CAAW,SAAX;AACH;;AAED,WAASC,IAAT,CAAcC,YAAd,EAA4BC,EAA5B,EAAgC;AAC5BT,IAAAA,MAAM,CAACU,IAAP,CAAY,MAAZ,EAAoB;AAACC,MAAAA,IAAI,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAP;AAAwCC,MAAAA,IAAI,EAAEN;AAA9C,KAApB,EAAkFC,EAAlF;AACH;;AAED,WAASM,KAAT,CAAeP,YAAf,EAA6BC,EAA7B,EAAiC;AAC7BT,IAAAA,MAAM,CAACU,IAAP,CAAY,OAAZ,EAAqB;AAACC,MAAAA,IAAI,EAAEC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAP;AAAwCC,MAAAA,IAAI,EAAEN;AAA9C,KAArB,EAAmFC,EAAnF;AACH;;AAED,WAASO,OAAT,CAAiBR,YAAjB,EAA+BS,GAA/B,EAAoCN,IAApC,EAA0CF,EAA1C,EAA8C;AAC1C,QAAIS,IAAI,GAAG;AAAEJ,MAAAA,IAAI,EAACN,YAAP;AAAqBG,MAAAA,IAAI,EAACA,IAA1B;AAAiCK,MAAAA,OAAO,EAAEC;AAA1C,KAAX;AACAjB,IAAAA,MAAM,CAACU,IAAP,CAAY,SAAZ,EAAuBQ,IAAvB,EAA8BT,EAA9B;AACH;;AAED,SAAM;AACFP,IAAAA,eAAe,EAAfA;AADE,GAAN;AAIH","sourcesContent":["const io = require('socket.io-client')\r\n\r\nexport default function (){\r\n    const socket = io.connect(\"http://localhost:4000\")\r\n\r\n    function registerHandler(onMessageReceived) {\r\n        socket.on('new message', onMessageReceived)\r\n      }\r\n    \r\n    function unregisterHandler() {\r\n        socket.off('message')\r\n    }\r\n\r\n    function join(chatroomName, cb) {\r\n        socket.emit('join', {user: localStorage.getItem('username'),room: chatroomName }, cb)\r\n    }\r\n\r\n    function leave(chatroomName, cb) {\r\n        socket.emit('leave', {user: localStorage.getItem('username'),room: chatroomName }, cb)\r\n    }\r\n\r\n    function message(chatroomName, msg, user, cb) {\r\n        let data = { room:chatroomName, user:user , message: msg }\r\n        socket.emit('message', data , cb)\r\n    }\r\n\r\n    return{\r\n        registerHandler,\r\n        \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}